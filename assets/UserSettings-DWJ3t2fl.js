import{d as f,y as S,s as w,c as k,f as s,a as x,t as n,u as l,w as C,l as N,z as b,m as y,e as A,b as U}from"./index-D9lXB93X.js";const B=y+"#icon-mail",I={class:"settings"},R={class:"settings__items"},V={class:"settings__item"},z={class:"settings__icon-wrapper"},D={class:"settings__icon"},E={class:"settings__text"},J={class:"settings__value"},L={class:"settings__item"},O={class:"settings__text"},T={class:"settings__value"},F=f({__name:"UserSettings",setup(j){const c=S(),{isAuthorized:d,userEmail:u,userName:g,userSurname:m}=w(c),r=localStorage.getItem("user");let i="",_="",o="",a="";if(r)try{const t=JSON.parse(r);o=t.name||"",a=t.surname||"",i=o+" "+a,_=t.email||""}catch(t){console.error("An error occurred while parsing JSON:",t)}const p=()=>{const t=o.charAt(0)||"",e=a.charAt(0)||"";return(t+e).toUpperCase()},v=async()=>{try{await U.get("/auth/logout"),d.value=!1,u.value="",g.value="",m.value="",localStorage.removeItem("user")}catch(t){console.error("logout data response was not ok:",t)}};return(t,e)=>{const h=N("RouterLink");return A(),k("div",I,[s("div",R,[s("div",V,[s("div",z,[s("span",D,n(p()),1)]),s("div",E,[e[0]||(e[0]=s("div",{class:"settings__label"},"Имя Фамилия",-1)),s("div",J,n(l(i)),1)])]),s("div",L,[e[2]||(e[2]=s("div",{class:"settings__icon-wrapper"},[s("svg",{class:"settings__icon",width:"24",height:"24","aria-hidden":"true"},[s("use",{"xlink:href":B})])],-1)),s("div",O,[e[1]||(e[1]=s("div",{class:"settings__label"},"Электронная почта",-1)),s("div",T,n(l(_)),1)])])]),x(h,{class:"settings__btn btn btn--primary",onClick:v,to:"/"},{default:C(()=>e[3]||(e[3]=[b("Выйти из аккаунта")])),_:1,__:[3]})])}}});export{F as default};
